---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';

const comics = await getCollection('comics');
const latestComic = comics
	.sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
	.at(0);
---

<Layout>
	{latestComic ? (
		<article class="space-y-4">
			<p class="text-sm text-zinc-500">
				{latestComic.data.date.toLocaleDateString('fr-FR', {
					year: 'numeric',
					month: 'long',
					day: 'numeric',
				})}
			</p>
			<img
				src={latestComic.data.cover.src}
				width={latestComic.data.cover.width}
				height={latestComic.data.cover.height}
				alt={latestComic.data.alt}
				loading="eager"
			/>
			
		</article>
	) : (
		<p class="text-zinc-500">Aucune bande dessinee pour le moment.</p>
	)}
</Layout>
